# 物料管理系统 - 用户操作手册

## 目录

1. [快速开始](#快速开始)
2. [系统登录](#系统登录)
3. [仪表盘](#仪表盘)
4. [物料管理](#物料管理)
5. [出入库管理](#出入库管理)
6. [用户管理](#用户管理)
7. [常见问题](#常见问题)

---

## 快速开始

### 启动系统

**Windows用户：**
1. 双击 `start.bat` 文件
2. 等待系统自动启动（会自动安装依赖、启动服务、打开浏览器）

**Mac/Linux用户：**
1. 在终端中执行：`./start.sh`
2. 等待系统自动启动

### 默认账户

- **用户名**: `admin`
- **密码**: `admin123`
- **角色**: 系统管理员

---

## 系统登录

### 登录步骤

1. 打开浏览器，访问系统地址（通常是 http://localhost:5173）
2. 在登录页面输入用户名和密码
3. 点击"登录"按钮

### 角色说明

系统支持三种用户角色，每种角色具有不同的权限：

#### 系统管理员
- ✅ 所有功能权限
- ✅ 可以管理用户、物料、出入库单
- ✅ 可以审批出入库单

#### 库存管理员
- ✅ 可以管理物料
- ✅ 可以审批出入库单
- ❌ 不能管理用户

#### 普通人员
- ✅ 可以创建出入库单
- ✅ 可以查看物料信息
- ❌ 不能管理物料和用户
- ❌ 不能审批出入库单

---

## 仪表盘

仪表盘是系统的主页面，显示关键统计信息和数据概览。

### 统计卡片

页面顶部显示四个统计卡片：
- **物料总数**: 系统中所有物料的数量
- **待审批单**: 等待审批的出入库单数量
- **今日出入库**: 今天创建的出入库单数量
- **低库存物料**: 当前库存低于最低库存阈值的物料数量

### 图表展示

#### 物料分类统计（饼图）
- 显示化学物料和金属物料的数量分布
- 鼠标悬停可查看详细数据

#### 最近30天出入库趋势（折线图）
- 显示最近30天的入库和出库趋势
- 可以直观了解库存变动情况

### 数据表格

#### 低库存物料列表
- 显示库存不足的物料信息
- 包括物料编码、名称、当前库存、最低库存等

#### 待审批单列表
- 显示等待审批的出入库单
- 包括单号、物料名称、类型、数量、申请人等

---

## 物料管理

### 查看物料列表

1. 点击左侧菜单"物料管理"
2. 系统显示所有物料列表
3. 可以使用搜索框搜索物料编码或名称
4. 可以使用类别筛选（化学物料/金属物料）

### 新增物料

**权限要求**: 系统管理员或库存管理员

**操作步骤：**
1. 点击"新增物料"按钮
2. 填写物料信息：
   - **物料编码**: 必填，唯一标识（如：CHEM001）
   - **物料名称**: 必填（如：硫酸）
   - **类别**: 必填，选择"化学物料"或"金属物料"
   - **单位**: 必填（如：kg、L、个）
   - **最低库存**: 可选，设置库存预警阈值
   - **最高库存**: 可选，设置最大库存量
   - **存放位置**: 可选（如：A区-1号仓库）
   - **描述**: 可选，补充说明信息
3. 点击"确定"保存

### 编辑物料

**权限要求**: 系统管理员或库存管理员

**操作步骤：**
1. 在物料列表中，点击要编辑物料的"编辑"按钮
2. 修改物料信息（物料编码不可修改）
3. 点击"确定"保存

### 查看物料详情

**操作步骤：**
1. 在物料列表中，点击要查看物料的"查看"按钮
2. 系统显示物料的完整信息

### 删除物料

**权限要求**: 仅系统管理员

**操作步骤：**
1. 在物料列表中，点击要删除物料的"删除"按钮
2. 确认删除操作
3. **注意**: 如果物料存在相关出入库记录，无法删除

---

## 出入库管理

### 查看出入库单列表

1. 点击左侧菜单"出入库管理"
2. 系统显示出入库单列表
3. 可以使用状态筛选（待审批/已批准/已拒绝/已取消）
4. 可以使用类型筛选（入库/出库）

### 创建出入库单

**权限要求**: 普通人员或系统管理员

**操作步骤：**
1. 点击"创建出入库单"按钮
2. 填写出入库信息：
   - **类型**: 选择"入库"或"出库"
   - **物料**: 从下拉列表选择物料（显示当前库存）
   - **数量**: 输入数量（出库时不能超过当前库存）
   - **单价**: 可选，输入单价（用于计算总金额）
   - **备注**: 可选，补充说明信息
3. 点击"确定"提交
4. 系统自动创建出入库单，状态为"待审批"

**注意事项：**
- 出库时，系统会检查库存是否充足
- 如果库存不足，无法创建出库单
- 创建后需要等待库存管理员审批

### 审批出入库单

**权限要求**: 库存管理员或系统管理员

**操作步骤：**
1. 在出入库单列表中，找到状态为"待审批"的单据
2. 点击"审批"按钮
3. 选择操作：
   - **批准**: 同意该出入库单，系统自动更新库存
   - **拒绝**: 拒绝该出入库单，不更新库存
4. 输入审批备注（可选）
5. 点击"确定"完成审批

**审批结果：**
- **批准**: 系统自动更新物料库存，单据状态变为"已批准"
- **拒绝**: 单据状态变为"已拒绝"，库存不更新

### 取消出入库单

**权限要求**: 仅申请人可以取消自己创建的待审批单据

**操作步骤：**
1. 在出入库单列表中，找到自己创建的"待审批"单据
2. 点击"取消"按钮
3. 确认取消操作
4. 单据状态变为"已取消"

### 查看出入库单详情

**操作步骤：**
1. 在出入库单列表中，点击要查看单据的"查看"按钮
2. 系统显示单据的完整信息，包括：
   - 单号、类型、物料信息
   - 数量、单价、总金额
   - 状态、申请人、审批人
   - 创建时间、审批时间
   - 备注信息

---

## 用户管理

### 查看用户列表

**权限要求**: 仅系统管理员

1. 点击左侧菜单"用户管理"
2. 系统显示所有用户列表
3. 可以使用搜索框搜索用户名、姓名或邮箱
4. 可以使用角色筛选

### 新增用户

**权限要求**: 仅系统管理员

**操作步骤：**
1. 点击"新增用户"按钮
2. 填写用户信息：
   - **用户名**: 必填，唯一标识
   - **密码**: 必填，至少6位
   - **角色**: 必填，选择角色类型
   - **姓名**: 可选
   - **邮箱**: 可选
3. 点击"确定"保存

### 编辑用户

**权限要求**: 仅系统管理员

**操作步骤：**
1. 在用户列表中，点击要编辑用户的"编辑"按钮
2. 修改用户信息：
   - 用户名可以修改（不能与其他用户重复）
   - 密码可以修改（留空则不修改）
   - 角色、姓名、邮箱可以修改
3. 点击"确定"保存

### 删除用户

**权限要求**: 仅系统管理员

**操作步骤：**
1. 在用户列表中，点击要删除用户的"删除"按钮
2. 确认删除操作
3. **注意**: 不能删除自己的账户

---

## 常见问题

### Q1: 忘记密码怎么办？

**A**: 请联系系统管理员重置密码。系统管理员可以在"用户管理"中修改用户密码。

### Q2: 为什么无法创建出库单？

**A**: 可能的原因：
1. 物料库存不足
2. 没有选择物料
3. 数量输入错误

请检查物料当前库存是否充足。

### Q3: 为什么无法删除物料？

**A**: 如果物料存在相关的出入库记录，系统不允许删除，以保证数据完整性。如需删除，请先删除相关记录。

### Q4: 如何查看库存历史？

**A**: 系统会自动记录每次库存变更。目前可以通过查看出入库单详情了解库存变动情况。

### Q5: 低库存预警如何设置？

**A**: 在创建或编辑物料时，设置"最低库存"字段。当当前库存低于最低库存时，系统会在仪表盘中显示预警。

### Q6: 如何修改自己的密码？

**A**: 目前需要通过系统管理员修改。建议联系管理员重置密码。

### Q7: 系统支持哪些浏览器？

**A**: 推荐使用以下浏览器：
- Chrome（推荐）
- Firefox
- Edge
- Safari

### Q8: 数据会丢失吗？

**A**: 系统使用SQLite数据库存储数据，数据文件位于 `backend/mms.db`。建议定期备份此文件。

---

## 操作技巧

### 快速搜索

- 在物料管理页面，可以直接输入物料编码或名称进行搜索
- 支持模糊搜索，输入部分关键词即可

### 批量操作

- 目前系统暂不支持批量操作
- 如需批量处理，请逐个操作

### 数据导出

- 目前系统暂不支持数据导出功能
- 如需导出数据，请联系系统管理员

---

## 技术支持

如遇到问题或需要帮助，请：
1. 查看本文档的"常见问题"部分
2. 查看 `DEPLOYMENT.md` 部署指南
3. 查看 `API.md` API文档
4. 联系系统管理员

---

**最后更新**: 2024年

